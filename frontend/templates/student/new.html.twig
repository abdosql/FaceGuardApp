{{ include('partials/main.html.twig') }}

<head>

    {{ include('partials/title-meta.html.twig', {title: 'Datatables'}) }}
    <!-- Filepond css -->
    <link rel="stylesheet" href="{{ asset("assets/libs/filepond/filepond.min.cssassets/libs/filepond/filepond.min.css") }}" type="text/css" />
    <link rel="stylesheet" href="{{ asset("assets/libs/filepond-plugin-image-preview/filepond-plugin-image-preview.min.css") }}">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
        $(document).ready(function(){
            $('#generate-rfid-button').click(function(){
                $.ajax({
                    url: '/generate-rfid',
                    method: 'POST',
                    success: function(response) {
                        console.log(response)
                        $('#icon').html('<lord-icon src="https://cdn.lordicon.com/lupuorrc.json" trigger="loop" colors="primary:#121331,secondary:#08a88a" style="width:120px;height:120px"></lord-icon>');
                        $('#rfid-message').html('<p>Success: ' + response["response"] + '</p>');

                        $('#buttonDiv').html(
                            '<a href="javascript:void(0);" class="btn btn-link link-success fw-medium material-shadow-none" data-bs-dismiss="modal"><i class="ri-close-line me-1 align-middle"></i> Close</a>'
                        );


                    },
                    error: function(jqXHR, textStatus, errorThrown) {
                        console.log(jqXHR);
                        $('#rfid-message').html('<p>Error: ' + jqXHR["responseJSON"] + '</p>');
                        $('#buttonDiv').html(
                            '<a href="javascript:void(0);" class="btn btn-link link-success fw-medium material-shadow-none" data-bs-dismiss="modal"><i class="ri-close-line me-1 align-middle"></i> Close</a>'
                        );
                    }
                });
            });
        });
    </script>
    {{ include('partials/head-css.html.twig') }}

</head>

<body>

<!-- Begin page -->
<div id="layout-wrapper">

    {{ include('partials/menu.html.twig') }}

    <!-- ============================================================== -->
    <!-- Start right Content here -->
    <!-- ============================================================== -->
    <div class="main-content">

        <div class="page-content">
            <div class="container-fluid">

                {{ include('partials/page-title.html.twig', {pagetitle: 'Forms', title: 'New Student'}) }}

                <div class="row">
                    <div class="col-lg-12">
                        <div class="card">
                            <div class="card-header align-items-center d-flex">
                                <h4>
                                    <h4 class="card-title mb-0 flex-grow-1">New Student</h4>
                                </h4>
                            </div>
                            <div class="card-body">
                                {{ include("student/_form.html.twig") }}
                                {{ include("student/_rfidModal.html.twig") }}
                            </div>
                        </div>
                    </div><!--end col-->
                </div><!--end row-->

            </div>
            <!-- container-fluid -->
        </div>
        <!-- End Page-content -->

        {{ include('partials/footer.html.twig') }}
    </div>
    <!-- end main content-->

</div>
<!-- END layout-wrapper -->



{{ include('partials/customizer.html.twig') }}

{{ include('partials/vendor-scripts.html.twig') }}


<!-- filepond js -->
<script src="{{ asset('assets/libs/filepond/filepond.min.js') }}"></script>
<script src="{{ asset('assets/libs/filepond-plugin-image-preview/filepond-plugin-image-preview.min.js') }}"></script>
<script src="{{ asset('assets/libs/filepond-plugin-file-validate-size/filepond-plugin-file-validate-size.min.js') }}"></script>
<script src="{{ asset('assets/libs/filepond-plugin-image-exif-orientation/filepond-plugin-image-exif-orientation.min.js') }}"></script>
<script src="{{ asset('assets/libs/filepond-plugin-file-encode/filepond-plugin-file-encode.min.js') }}"></script>

<!-- File upload js -->
<script src="{{ asset('assets/js/pages/form-file-upload.init.js') }}"></script>


<script src="{{ asset("assets/js/pages/select2.init.js") }}"></script>

<!-- App js -->
<script src="{{ absolute_url(asset("assets/js/app.js")) }}"></script>
</body>

</html>